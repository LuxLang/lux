(;module:
  lux
  (lux (control monad)
       (concurrency ["P" promise "P/" Monad<Promise>])
       (data text/format
             ["E" error]))
  (luxc ["&" base]))

(def: #export (compile-runtime compiler)
  (-> Compiler (P;Promise (E;Error Compiler)))
  (P/wrap (#E;Success compiler)))
