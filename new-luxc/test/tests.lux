(.module:
  lux
  (lux (control monad)
       [io]
       (concurrency [promise])
       [cli #+ program:]
       [test])
  (test (luxc (lang (analysis ["_.A" primitive]
                              ["_.A" structure]
                              ["_.A" reference]
                              ["_.A" case]
                              ["_.A" function]
                              ["_.A" type]
                              (procedure ["_.A" common]
                                         ["_.A" host]))
                    (synthesis ["_.S" primitive]
                               ["_.S" structure]
                               (case ["_.S" special])
                               ["_.S" function]
                               ["_.S" procedure]
                               ["_.S" loop])
                    (translation (jvm ["_.T" primitive]
                                      ["_.T" structure]
                                      ["_.T" case]
                                      ["_.T" function]
                                      ["_.T" reference]
                                      (procedure ["_.T" common]
                                                 ["_.T" host]))))
              )))

(program: args
  (test.run))
