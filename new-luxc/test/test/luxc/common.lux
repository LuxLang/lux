(.module:
  lux
  (lux (control [monad #+ do])
       [io #+ IO])
  (luxc (lang ["&." host]
              [".L" init]
              (translation [js]))))

(do-template [<name> <host>]
  [(def: #export <name>
     (IO Compiler)
     (do io.Monad<IO>
       [host <host>]
       (wrap (initL.compiler host))))]

  [init-jvm &host.init-host]
  [init-js  js.init]
  )
