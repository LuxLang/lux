(;module:
  lux
  (lux (data (coll [list]))
       (paradigm object)))

(interface: (Queue a)
  (push [a] @)
  (peek [] (Maybe a))
  (pop [] @)
  (size [] Nat))

(class: (List-Queue a) (Queue a)
  (List a)
  
  (def: (push a)
    (update! (|>. (#;Cons a))))

  (def: peek
    (|>. get! list;head))

  (def: pop
    (update! (function [state] (|> state list;tail (default state)))))
  
  (def: size
    (|>. get! list;size)))

(type: Coord [Real Real])
(type: Angle Real)

(interface: Geometry
  (translate [Coord] @)
  (rotate [Coord Angle] @)
  (scale [Real Real] @))

(class: Point Geometry
  {#label Text
   #coord Coord}
  (def: (translate coord self) self)
  (def: (rotate coord angle self) self)
  (def: (scale width height self) self))

(def: queue0 (|> (new-List-Queue (list))
                 (: (Queue Nat))
                 (push +123)
                 (push +456)
                 (push +789)
                 pop))
(def: point0 (new-Point ["YOLO" [123.4 567.8]]))
