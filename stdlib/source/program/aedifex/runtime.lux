(.module:
  [lux #*
   [data
    [text
     ["%" format (#+ format)]]]
   [macro
    ["." template]]
   [world
    [file (#+ Path)]
    [shell (#+ Command)]]])

(template [<name> <command> <parameters>]
  [(def: #export (<name> path)
     (-> Path [Text (List Text)])
     (`` (format [<command> (list (~~ (template.splice <parameters>)) path)])))]

  [java "java" ["-jar"]]
  [node "node" ["--stack_size=8192"]]
  [python "python3" []]
  [lua "lua" []]
  [ruby "RUBY_THREAD_VM_STACK_SIZE=15700000 ruby" []]
  )
