(.module:
  [lux #*
   [control
    [concurrency
     [frp (#+ Channel)]]
    [security
     ["!" capability (#+ capability:)]]]
   [data
    [error (#+ Error)]]])

(capability: #export (Can-Send ! address message)
  (can-send [address message] (! (Error Any))))

(capability: #export (Can-Subscribe ! address message)
  (can-subscribe [address] (! (Error (Channel message)))))

(type: #export (Service ! address message)
  {#can-send (Can-Send ! address message)
   #can-subscribe (Can-Subscribe ! address message)})
