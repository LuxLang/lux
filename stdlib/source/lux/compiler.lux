(.module:
  [lux (#- Source)
   [control
    ["ex" exception (#+ exception:)]]
   [world
    ["." file (#+ File)]]]
  [/
   [meta
    ["." archive (#+ Document Archive)]]])

(type: #export Source
  {#name Text
   #file File
   #code Text})

(type: #export (Compiler d !)
  (-> (file.System !) Archive Source (! (Document d))))

(exception: #export (cannot-compile {name Text})
  (ex.report ["Module" name]))
