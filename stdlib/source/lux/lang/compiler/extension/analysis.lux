(.module:
  lux
  (lux (data [text]
             (coll [list "list/" Functor<List>]
                   ["dict" dictionary #+ Dictionary])))
  [///analysis #+ Analysis State]
  [///synthesis #+ Synthesis]
  [//]
  [/common]
  [/host])

(def: #export defaults
  (//.Bundle State Analysis Synthesis)
  (|> /common.extensions
      (dict.merge /host.extensions)
      dict.entries
      (list/map (function (_ [name proc]) [name (proc name)]))
      (dict.from-list text.Hash<Text>)))
