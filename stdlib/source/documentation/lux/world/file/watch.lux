(.require
 [library
  [lux (.except)
   ["$" documentation]
   ["@" target]
   [data
    ["[0]" text (.only \n)
     ["%" \\format (.only format)]]]]]
 [\\library
  ["[0]" /]])

(.def .public documentation
  (.List $.Module)
  (`` (`` ($.module /._
                    ""
                    [($.default /.creation)
                     ($.default /.creation?)
                     ($.default /.modification)
                     ($.default /.modification?)
                     ($.default /.deletion)
                     ($.default /.deletion?)
                     ($.default /.all)
                     ($.default /.not_being_watched)
                     ($.default /.cannot_poll_a_non_existent_directory)
                     
                     ($.documentation /.Concern
                       "A particular concern to watch-out for.")

                     ($.documentation /.and
                       ""
                       [(and left right)])

                     ($.documentation (/.Watcher !)
                       "Machinery for watching a file-system for changes to files and directories.")

                     ($.documentation /.polling
                       (format "A simple watcher that works for any file-system."
                               "Polls files and directories to detect changes.")
                       [(polling fs)])

                     ($.documentation /.mock
                       (format "A fake/emulated watcher."
                               \n "Must be given a path separator for the file-system.")
                       [(mock separator)])

                     (,, (for @.jvm (,, (these ($.documentation /.default
                                                 "The default watcher for the default file-system.")))
                              (,, (these))))]
                    []))))
