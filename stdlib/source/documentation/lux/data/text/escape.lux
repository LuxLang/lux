(.require
 [library
  [lux (.except)
   ["$" documentation]
   [data
    [text (.only \n)
     ["%" \\format (.only format)]]]]]
 [\\library
  ["[0]" /]])

(.def .public documentation
  (.List $.Module)
  ($.module /._
            ""
            [($.default /.escapable?)
             ($.default /.dangling_escape)
             ($.default /.invalid_escape)
             ($.default /.invalid_unicode_escape)

             ($.documentation /.escaped
               "Yields a escaped version of the text."
               [(escaped text)])

             ($.documentation /.un_escaped
               (format "Yields an un-escaped text."
                       \n "Fails if it was improperly escaped.")
               [(un_escaped text)])

             ($.documentation /.literal
               "If given a escaped text literal, expands to an un-escaped version."
               [(/.literal "Line 1\nLine 2")
                "=>"
                (format "Line 1" \n
                        "Line 2")])]
            []))
