(.using
 [library
  [lux (.except)
   ["_" test (.only Test)]
   [abstract
    [monad (.only do)]]
   [math
    ["[0]" random]]]]
 [\\library
  ["[0]" /]]
 ["[0]" //
  ["[1][0]" signature]])

(def: .public test
  Test
  (<| (_.covering /._)
      (_.for [/.Key])
      (do random.monad
        [expected //signature.random
         document random.nat]
        (all _.and
             (_.coverage [/.key /.signature]
               (|> document
                   (/.key expected)
                   /.signature
                   (same? expected)))
             ))))
