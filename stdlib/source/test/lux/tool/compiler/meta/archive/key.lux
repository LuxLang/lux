(.using
 [library
  [lux "*"
   ["_" test {"+" Test}]
   [abstract
    [monad {"+" do}]]
   [math
    ["[0]" random]]]]
 [\\library
  ["[0]" /]]
 ["[0]" // "_"
  ["[1][0]" signature]])

(def: .public test
  Test
  (<| (_.covering /._)
      (_.for [/.Key])
      (do random.monad
        [expected //signature.random
         document random.nat]
        ($_ _.and
            (_.cover [/.key /.signature]
                     (|> document
                         (/.key expected)
                         /.signature
                         (same? expected)))
            ))))
