(.module:
  [lux #*
   ["_" test (#+ Test)]
   [control
    [io (#+ io)]
    [parser
     [cli (#+ program:)]]]]
  ["." / #_
   ["#." artifact]
   ["#." input]
   ["#." command #_
    ["#/." clean]
    ["#/." pom]
    ["#/." install]
    ["#/." deploy]]
   ["#." local]
   ["#." cache]
   ["#." dependency]
   ["#." package]
   ["#." profile]
   ["#." project]
   ["#." cli]
   ["#." hash]
   ["#." parser]
   ["#." pom]
   ["#." repository]])

(def: test
  Test
  ($_ _.and
      /artifact.test
      /input.test
      /command/clean.test
      /command/pom.test
      /command/install.test
      /command/deploy.test
      /local.test
      /cache.test
      /dependency.test
      /package.test
      /profile.test
      /project.test
      /cli.test
      /hash.test
      /parser.test
      /pom.test
      /repository.test
      ))

(program: args
  (<| io
      _.run!
      (_.times 100)
      ..test))
