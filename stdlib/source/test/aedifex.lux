(.require
 [library
  [lux (.except)
   [program (.only program:)]
   ["_" test (.only Test)]
   [control
    ["[0]" io]]]]
 ["[0]" /
  ["[1][0]" artifact]
  ["[1][0]" cli]
  ["[1][0]" command]
  ["[1][0]" dependency
   ["[1]/[0]" deployment]
   ["[1]/[0]" resolution]
   ["[1]/[0]" status]]
  ["[1][0]" hash]
  ["[1][0]" input]
  ["[1][0]" local]
  ["[1][0]" metadata]
  ["[1][0]" package]
  ["[1][0]" parser]
  ["[1][0]" pom]
  ["[1][0]" profile]
  ["[1][0]" project]
  ["[1][0]" repository]
  ["[1][0]" runtime]])

(def dependency
  Test
  (all _.and
       /dependency.test
       /dependency/deployment.test
       /dependency/resolution.test
       /dependency/status.test
       ))

(def test
  Test
  (all _.and
       /artifact.test
       /cli.test
       /command.test
       ..dependency
       /hash.test
       /input.test
       /local.test
       /metadata.test
       /package.test
       /parser.test
       /pom.test
       /profile.test
       /project.test
       /repository.test
       /runtime.test
       ))

(program: args
  (<| io.io
      _.run!
      (_.times 100)
      ..test))
