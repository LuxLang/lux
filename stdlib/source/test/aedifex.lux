(.module:
  [lux #*
   ["_" test (#+ Test)]
   [control
    [io (#+ io)]
    [parser
     [cli (#+ program:)]]]]
  ["." / #_
   ["#." artifact]
   ["#." input]
   ["#." command #_
    ["#/." version]
    ["#/." clean]
    ["#/." pom]
    ["#/." install]
    ["#/." deploy]
    ["#/." deps]
    ["#/." build]
    ["#/." test]
    ["#/." auto]]
   ["#." local]
   ["#." cache]
   ["#." dependency
    ["#/." resolution]]
   ["#." package]
   ["#." profile]
   ["#." project]
   ["#." cli]
   ["#." hash]
   ["#." parser]
   ["#." pom]
   ["#." repository]
   ["#." runtime]
   ["#." metadata #_
    ["#/." artifact]]])

(def: test
  Test
  ($_ _.and
      /artifact.test
      /input.test
      /command/version.test
      /command/clean.test
      /command/pom.test
      /command/install.test
      /command/deploy.test
      /command/deps.test
      /command/build.test
      /command/test.test
      /command/auto.test
      /local.test
      /cache.test
      /dependency.test
      /dependency/resolution.test
      /package.test
      /profile.test
      /project.test
      /cli.test
      /hash.test
      /parser.test
      /pom.test
      /repository.test
      /runtime.test
      /metadata/artifact.test
      ))

(program: args
  (<| io
      _.run!
      (_.times 100)
      ..test))
