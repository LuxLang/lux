(.using
  [library
   [lux "*"
    ["_" test {"+" Test}]
    [abstract
     [monad {"+" do}]]
    [math
     ["[0]" random {"+" Random}]]]]
  [\\library
   ["[0]" /]])

(def: .public (spec (^open "_#[0]") gen_sample)
  (All (_ a) (-> (/.Enum a) (Random a) Test))
  (do random.monad
    [sample gen_sample]
    (<| (_.for [/.Enum])
        ($_ _.and
            (_.test "Successor and predecessor are inverse functions."
                    (and (_#= (|> sample _#succ _#pred)
                              sample)
                         (_#= (|> sample _#pred _#succ)
                              sample)
                         (not (_#= (_#succ sample)
                                   sample))
                         (not (_#= (_#pred sample)
                                   sample))))
            ))))
