(.module:
  [library
   [lux #*]]
  [//
   [monoid (#+ Monoid)]])

(interface: .public (Mix F)
  (: (All [a b]
       (-> (-> b a a) a (F b) a))
     mix))

(def: .public (with_monoid monoid mix value)
  (All [F a]
    (-> (Monoid a) (Mix F) (F a) a))
  (let [(^open "/\.") monoid]
    (mix /\compose /\identity value)))
