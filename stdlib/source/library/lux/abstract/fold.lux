(.module:
  [library
   [lux #*]]
  [//
   [monoid (#+ Monoid)]])

(interface: .public (Fold F)
  (: (All [a b]
       (-> (-> b a a) a (F b) a))
     fold))

(def: .public (with_monoid monoid fold value)
  (All [F a]
    (-> (Monoid a) (Fold F) (F a) a))
  (let [(^open "/\.") monoid]
    (fold /\compose /\identity value)))
