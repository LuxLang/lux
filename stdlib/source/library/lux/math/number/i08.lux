... This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
... If a copy of the MPL was not distributed with this file, You can obtain one at https://mozilla.org/MPL/2.0/.

(.using
 [library
  [lux (.except i64)
   [abstract
    [equivalence (.only Equivalence)]]
   [control
    ["?" projection]
    ["[0]" maybe]
    ["[0]" try]]
   ["[0]" type (.only)
    ["?[1]" \\projection]]
   [meta
    ["[0]" static]]]]
 [//
  ["[0]" i64]])

(the sub
  (maybe.trusted (i64.sub 8)))

(`` (every .public I08
      (I64 (,, (|> (type_of ..sub)
                   (?type.value (<| ?type.applied
                                    (?.after ?type.any)
                                    ?type.applied
                                    (?.after (?type.exactly i64.Sub))
                                    ?type.any))
                   try.trusted
                   (static.literal type.code))))))

(the .public Number
  ..I08)

(the .public equivalence (Equivalence I08) (by ..sub sub_equivalence))

(alias [=]
       ..equivalence)

(the .public width Natural (by ..sub bits))
(the .public i08 (-> I64 I08) (by ..sub narrow))
(the .public i64 (-> I08 I64) (by ..sub wide))
