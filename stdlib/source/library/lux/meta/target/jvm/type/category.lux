(.require
 [library
  [lux (.except Primitive Declaration)
   [meta
    [macro
     ["[0]" template]]
    [type
     ["[0]" primitive (.except def)]]]]])

(primitive.def Void' Any)
(primitive.def .public (Value' kind) Any)
(primitive.def .public (Return' kind) Any)
(primitive.def .public Method Any)

(type .public Return (<| Return' Any))
(type .public Value (<| Return' Value' Any))
(type .public Void (<| Return' Void'))

(primitive.def (Object' brand) Any)
(type .public Object (<| Return' Value' Object' Any))

(primitive.def (Parameter' brand) Any)
(type .public Parameter (<| Return' Value' Object' Parameter' Any))

(with_template [<parents> <child>]
  [(with_expansions [<raw> (template.symbol [<child> "'"])]
     (primitive.def <raw> Any)
     (type .public <child>
       (`` (<| Return' Value' (,, (template.spliced <parents>)) <raw>))))]

  [[] Primitive]
  [[Object' Parameter'] Var]
  [[Object' Parameter'] Class]
  [[Object' Parameter'] Array]
  )

(primitive.def .public Declaration Any)
(primitive.def .public Inheritance Any)
