(.module:
  [library
   [lux "*"
    [control
     ["<>" parser ("[1]\[0]" monad)
      ["<[0]>" code {"+" [Parser]}]]]]])

(def: .public default_policy
  Code
  (` .private))

(def: .public (parser un_exported)
  (All (_ a) (-> (Parser a) (Parser [Code a])))
  (<>.either (<>.and <code>.any un_exported)
             (<>.and (<>\in ..default_policy) un_exported)))
