(.module:
  {#.doc (.doc "Syntax for marking a definition as an export.")}
  [library
   [lux #*
    [control
     ["<>" parser ("#\." monad)
      ["<.>" code (#+ Parser)]]]]])

(def: token
  (' #export))

(def: .public (format exported?)
  (-> Bit (List Code))
  (if exported?
    (list ..token)
    (list)))

(def: .public parser
  (Parser Bit)
  (<>.either (<>.after (<code>.this! ..token)
                       (<>\in true))
             (<>\in false)))
