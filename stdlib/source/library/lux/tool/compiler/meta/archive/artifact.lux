(.using
 [library
  [lux "*"
   [abstract
    [equivalence {"+" Equivalence}]]
   [data
    ["[0]" product]
    ["[0]" bit]
    ["[0]" text ("[1]#[0]" equivalence)]
    [collection
     ["[0]" set {"+" Set}]]]
   [math
    [number
     ["[0]" nat]]]]]
 ["[0]" / "_"
  ["[1][0]" category {"+" Category}]])

(type: .public ID
  Nat)

(type: .public Dependency
  [Nat ID])

(def: .public dependency_hash
  (product.hash nat.hash nat.hash))

(def: .public no_dependencies
  (Set Dependency)
  (set.empty dependency_hash))

(type: .public Artifact
  (Record
   [#id ID
    #category Category
    #mandatory? Bit]))

(def: .public equivalence
  (Equivalence Artifact)
  ($_ product.equivalence
      nat.equivalence
      /category.equivalence
      bit.equivalence
      ))
